<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.plou.web.balance.distribution.dao.BalanceValveDataNowMapper">
  <resultMap id="BaseResultMap" type="cn.plou.web.balance.distribution.entity.BalanceValveDataNow">
    <id column="meter_id" jdbcType="VARCHAR" property="meterId" />
    <result column="consumer_id" jdbcType="VARCHAR" property="consumerId" />
    <result column="control_mode" jdbcType="VARCHAR" property="controlMode" />  
    <result column="control_role" jdbcType="VARCHAR" property="controlRole" />
    <result column="openness" jdbcType="DECIMAL" property="openness" />
    <result column="in_pressure" jdbcType="DECIMAL" property="inPressure" />
    <result column="out_pressure" jdbcType="DECIMAL" property="outPressure" />
    <result column="pressure_diff" jdbcType="DECIMAL" property="pressureDiff" />
    <result column="set_pressure_diff" jdbcType="DECIMAL" property="setPressureDiff" />
    <result column="pressure_diff_threshold" jdbcType="DECIMAL" property="pressureDiffThreshold" />
    <result column="in_temperature" jdbcType="DECIMAL" property="inTemperature" />
    <result column="out_temperature" jdbcType="DECIMAL" property="outTemperature" />
    <result column="set_temperature" jdbcType="DECIMAL" property="setTemperature" />
    <result column="temperature_threshold" jdbcType="DECIMAL" property="temperatureThreshold" />
    <result column="sample_flow_speed" jdbcType="DECIMAL" property="sampleFlowSpeed" />
    <result column="unit_flow_speed" jdbcType="DECIMAL" property="unitFlowSpeed" />
    <result column="upper_limit_flow" jdbcType="DECIMAL" property="upperLimitFlow" />
    <result column="max_flow_threshold" jdbcType="DECIMAL" property="maxFlowThreshold" />
    <result column="sys_read_time" jdbcType="TIMESTAMP" property="sysReadTime" />
    <result column="company_id" jdbcType="VARCHAR" property="companyId" />
    <result column="notes" jdbcType="VARCHAR" property="notes" />
    <result column="memo1" jdbcType="VARCHAR" property="memo1" />
    <result column="memo2" jdbcType="VARCHAR" property="memo2" />
    <result column="create_date" jdbcType="TIMESTAMP" property="createDate" />
    <result column="create_user" jdbcType="VARCHAR" property="createUser" />
    <result column="update_date" jdbcType="TIMESTAMP" property="updateDate" />
    <result column="update_user" jdbcType="VARCHAR" property="updateUser" />
    <result column="env_temp" jdbcType="DECIMAL" property="envTemp" />
    <result column="open_set" jdbcType="DECIMAL" property="openSet" />
    <result column="open_level" jdbcType="DECIMAL" property="openLevel" />
    <result column="base_open_max" jdbcType="VARCHAR" property="baseOpenMax" />
    <result column="base_open_min" jdbcType="VARCHAR" property="baseOpenMin" />
    <result column="low_temp" jdbcType="DECIMAL" property="lowTemp" />
    <result column="com_interval" jdbcType="DECIMAL" property="comInterval" />
    <result column="exchange_temp" jdbcType="VARCHAR" property="exchangeTemp" />
    <result column="exchange_press" jdbcType="VARCHAR" property="exchangePress" />
    <result column="locks" jdbcType="VARCHAR" property="locks" />
    <result column="time_param1" jdbcType="VARCHAR" property="timeParam1" />
    <result column="time_param2" jdbcType="VARCHAR" property="timeParam2" />
    <result column="time_param3" jdbcType="VARCHAR" property="timeParam3" />
    <result column="temp_param" jdbcType="VARCHAR" property="tempParam" />
    <result column="time_open_param1" jdbcType="VARCHAR" property="timeOpenParam1" />
    <result column="time_open_param2" jdbcType="VARCHAR" property="timeOpenParam2" />
    <result column="time_open_param3" jdbcType="VARCHAR" property="timeOpenParam3" />
    <result column="time_temp_param1" jdbcType="VARCHAR" property="timeTempParam1" />
    <result column="time_temp_param2" jdbcType="VARCHAR" property="timeTempParam2" />
    <result column="time_temp_param3" jdbcType="VARCHAR" property="timeTempParam3" />
    <result column="time_temp_cure_param1" jdbcType="VARCHAR" property="timeTempCureParam1" />
    <result column="time_temp_cure_param2" jdbcType="VARCHAR" property="timeTempCureParam2" />
    <result column="time_temp_cure_param3" jdbcType="VARCHAR" property="timeTempCureParam3" />
    <result column="press_adj_out" jdbcType="VARCHAR" property="pressAdjOut" />
    <result column="press_adj_in" jdbcType="VARCHAR" property="pressAdjIn" />
    <result column="current_times" jdbcType="TIMESTAMP" property="currentTimes" />
    <result column="read_time" jdbcType="TIMESTAMP" property="readTime" />
    <result column="meter_time" jdbcType="TIMESTAMP" property="meterTime" />
    <result column="open_set_add" jdbcType="DECIMAL" property="openSetAdd" />
    <result column="primary_id" jdbcType="VARCHAR" property="primaryId" />
    <result column="flow_source" jdbcType="VARCHAR" property="flowSource" />
    <result column="flow_setting_mode" jdbcType="VARCHAR" property="flowSettingMode" />
    <result column="control_addr" jdbcType="VARCHAR" property="controlAddr" />
    <result column="mbus_id" jdbcType="VARCHAR" property="mbusId" />
    <result column="address_2nd" jdbcType="VARCHAR" property="address2nd" />
  </resultMap>

  <resultMap id="InfoMap" type="cn.plou.web.balance.distribution.vo.BalanceValveDataNowInfo">
    <id column="meterId" jdbcType="VARCHAR" property="meterId" />
    <result column="consumerId" jdbcType="VARCHAR" property="consumerId" />
    <result column="controlMode" jdbcType="VARCHAR" property="controlMode" />
    <result column="controlRole" jdbcType="VARCHAR" property="controlRole" />
    <result column="openness" jdbcType="DECIMAL" property="openness" />
    <result column="inpressure" jdbcType="DECIMAL" property="inPressure" />
    <result column="outpressure" jdbcType="DECIMAL" property="outPressure" />
    <result column="pressurediff" jdbcType="DECIMAL" property="pressureDiff" />
    <result column="setPressureDiff" jdbcType="DECIMAL" property="setPressureDiff" />
    <result column="pressureDiffThreshold" jdbcType="DECIMAL" property="pressureDiffThreshold" />
    <result column="inTemperature" jdbcType="DECIMAL" property="inTemperature" />
    <result column="outTemperature" jdbcType="DECIMAL" property="outTemperature" />
    <result column="setTemperature" jdbcType="DECIMAL" property="setTemperature" />
    <!--<result column="temperatureDiff" jdbcType="DECIMAL" property="temperatureDiff"/>-->
    <result column="temperatureThreshold" jdbcType="DECIMAL" property="temperatureThreshold" />
    <result column="sampleFlowSpeed" jdbcType="DECIMAL" property="sampleFlowSpeed" />
    <result column="unitFlowSpeed" jdbcType="DECIMAL" property="unitFlowSpeed" />
    <result column="upperLimitFlow" jdbcType="DECIMAL" property="upperLimitFlow" />
    <result column="maxFlowThreshold" jdbcType="DECIMAL" property="maxFlowThreshold" />
    <result column="sysReadTime" jdbcType="TIMESTAMP" property="sysReadTime" />
    <result column="company_id" jdbcType="VARCHAR" property="companyId" />
    <result column="notes" jdbcType="VARCHAR" property="notes" />
    <result column="memo1" jdbcType="VARCHAR" property="memo1" />
    <result column="memo2" jdbcType="VARCHAR" property="memo2" />
    <result column="create_date" jdbcType="TIMESTAMP" property="createDate" />
    <result column="create_user" jdbcType="VARCHAR" property="createUser" />
    <result column="update_date" jdbcType="TIMESTAMP" property="updateDate" />
    <result column="update_user" jdbcType="VARCHAR" property="updateUser" />
    <result column="envTemp" jdbcType="DECIMAL" property="envTemp" />
    <result column="openSet" jdbcType="DECIMAL" property="openSet" />
    <result column="openLevel" jdbcType="DECIMAL" property="openLevel" />
    <result column="baseOpenMax" jdbcType="VARCHAR" property="baseOpenMax" />
    <result column="baseOpenMin" jdbcType="VARCHAR" property="baseOpenMin" />
    <result column="lowTemp" jdbcType="DECIMAL" property="lowTemp" />
    <result column="comInterval" jdbcType="DECIMAL" property="comInterval" />
    <result column="exchangeTemp" jdbcType="VARCHAR" property="exchangeTemp" />
    <result column="exchangPpress" jdbcType="VARCHAR" property="exchangePress" />
    <result column="locks" jdbcType="VARCHAR" property="locks" />
    <result column="timeParam1" jdbcType="VARCHAR" property="timeParam1" />
    <result column="timeParam2" jdbcType="VARCHAR" property="timeParam2" />
    <result column="timeParam3" jdbcType="VARCHAR" property="timeParam3" />
    <result column="tempParam" jdbcType="VARCHAR" property="tempParam" />
    <result column="timeOpenParam1" jdbcType="VARCHAR" property="timeOpenParam1" />
    <result column="timeOpenParam2" jdbcType="VARCHAR" property="timeOpenParam2" />
    <result column="timeOpenParam3" jdbcType="VARCHAR" property="timeOpenParam3" />
    <result column="timeTempParam1" jdbcType="VARCHAR" property="timeTempParam1" />
    <result column="timeTempParam2" jdbcType="VARCHAR" property="timeTempParam2" />
    <result column="timeTempParam3" jdbcType="VARCHAR" property="timeTempParam3" />
    <result column="timeTempCureParam1" jdbcType="VARCHAR" property="timeTempCureParam1" />
    <result column="timeTempCureParam2" jdbcType="VARCHAR" property="timeTempCureParam2" />
    <result column="timeTempCureParam3" jdbcType="VARCHAR" property="timeTempCureParam3" />
    <result column="pressAdjOut" jdbcType="VARCHAR" property="pressAdjOut" />
    <result column="pressAdjIn" jdbcType="VARCHAR" property="pressAdjIn" />
    <result column="currentTimes" jdbcType="TIMESTAMP" property="currentTimes" />
    <result column="readTime" jdbcType="TIMESTAMP" property="readTime" />
    <result column="meterTime" jdbcType="TIMESTAMP" property="meterTime" />
    <result column="openSetAdd" jdbcType="DECIMAL" property="openSetAdd" />
    <result column="primary_id" jdbcType="VARCHAR" property="primaryId" />
    <result column="flowSource" jdbcType="VARCHAR" property="flowSource" />
    <result column="flowingDeviation" jdbcType="VARCHAR" property="flowingDeviation" />
    <result column="flowSettingMode" jdbcType="VARCHAR" property="flowSettingMode" />
    <result column="controlAddr" jdbcType="VARCHAR" property="controlAddr" />
    <result column="mbus_id" jdbcType="VARCHAR" property="mbusId" />
    <result column="address2nd" jdbcType="VARCHAR" property="address2nd" />
  </resultMap>
  <sql id="Base_Column_List">
    meter_id, consumer_id, control_mode, control_role, openness, in_pressure, out_pressure, pressure_diff, 
    set_pressure_diff, pressure_diff__threshold, in_temperature, out_temperature, set_temperature, 
    temperature_threshold, sample_flow_speed, unit_flow_speed, upper_limit_flow, max_flow_threshold, 
    sys_read_time, company_id, notes, memo1, memo2, create_date, create_user, update_date, 
    update_user, env_temp, open_set, open_level, base_open_max, base_open_min, low_temp, 
    com_interval, exchange_temp, exchange_press, locks, time_param1, time_param2, time_param3,
    temp_param, time_open_param1, time_open_param2, time_open_param3, time_temp_param1, 
    time_temp_param2, time_temp_param3, time_temp_cure_param1, time_temp_cure_param2, 
    time_temp_cure_param3, press_adj_out, press_adj_in, current_times, read_time, meter_time, 
    open_set_add, primary_id, flow_source, flow_setting_mode, control_addr, mbus_id, 
    address_2nd
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from balance_valve_data_now
    where meter_id = #{meterId,jdbcType=VARCHAR}
  </select>

  <select id="selectDataNowByBuildId" parameterType="java.lang.String" resultMap="InfoMap">
    select
    <include refid="Base_Column_List" />
    from balance_valve_data_now
    where consumer_id Like concat (#{buildId},'%')
  </select>

  <select id="selectDataNowList" parameterType="map" resultMap="InfoMap">
    select
    b.meter_id meterId, b.consumer_id consumerId, b.control_mode controlMode, b.control_role controlRole, b.openness, b.in_pressure inPressure, b.out_pressure outPressure, b.pressure_diff pressureDiff,
    b.set_pressure_diff setPressureDiff, b.pressure_diff_threshold pressureDiffThreshold, b.in_temperature inTemperature, b.out_temperature outTemperature, b.set_temperature setTemperature,
    b.temperature_threshold temperatureThreshold, b.sample_flow_speed sampleFlowSpeed, b.unit_flow_speed unitFlowSpeed, b.upper_limit_flow upperLimitFlow, b.max_flow_threshold maxFlowThreshold,
    b.sys_read_time sysReadTime, b.company_id, b.notes, b.memo1, b.memo2, b.env_temp envTemp, b.open_set openSet, b.open_level openLevel, b.base_open_max baseOpenMax,
    b.base_open_min baseOpenMin, b.low_temp lowTemp,b.com_interval comInterval, b.exchange_temp exchangeTemp, b.exchange_press exchangePress, b.locks, b.time_param1 timeParam1,
    b.time_param2 timeParam2, b.time_param3 timeParam3,b.temp_param timeParam, b.time_open_param1 timeOpenParam1, b.time_open_param2 timeOpenParam2, b.time_open_param3 timeOpenParam3,
    b.time_temp_param1 timeTempParam1,b.time_temp_param2 timeTempParam2, b.time_temp_param3 timeTempParam3, b.time_temp_cure_param1 timeTempCureParam1, b.time_temp_cure_param2 timeTempCureParam2,
    b.time_temp_cure_param3 timeTempCureParam3, b.press_adj_out pressAdjOut, b.press_adj_in pressAdjIn, b.current_times currentTimes, b.read_time readTime, b.meter_time meterTime,
    b.open_set_add openSetAdd, b.primary_id, b.flow_source flowSource, b.flow_setting_mode flowSettingMode, b.control_addr controlAddr, b.mbus_id,
    b.address_2nd address2nd,m.address
    from balance_valve_data_now b
    left join unit_running_data u on b.consumer_id = u.consumer_id
    left join meter_info m on b.meter_id = m.meter_id
    where 1=1
    <if test="companyIds.size()>0">
     and substring(b.consumer_id,1,5) in 
      <foreach collection="companyIds" item="item" index="index" open="(" separator="," close=")">
        #{item}
      </foreach> 
    </if>
    <if test="commuityIds.size()>0">
      and substring(b.consumer_id,1,10) in
      <foreach collection="commuityIds" item="item" index="index" open="(" separator="," close=")">
        #{item}
      </foreach>
    </if>
    <if test="buildingId!=null">
      and substring(b.consumer_id,1,15) = #{buildingId}
    </if>
    <!--<if test="deviationAndIndex != null">-->
      <!--<if test="deviationAndIndex.minFlowingDeviation!=null or deviationAndIndex.maxFlowingDeviation!=null and unitFlowSpeed!=null and upperLimitFlow!=null">
        <if test="flowSource == 1 ">
          and (unitFlowSpeed-upperLimitFlow) between (deviationAndIndex.minFlowingDeviation,deviationAndIndex.maxFlowingDeviation)
        </if>
        <if test="flowSource == 2">-->
    <if test="deviationAndIndex != null">
    <!--<if test="deviationAndIndex.minFlowingDeviation!=null">
      and flowingDeviation &gt; #{deviationAndIndex.minFlowingDeviation}
    </if>
    <if test="deviationAndIndex.maxFlowingDeviation!=null">
      and flowingDeviation &lt; #{deviationAndIndex.maxFlowingDeviation}
    </if>-->
      <!--
        /*case when b.flow_source==1
        then (b.unit_flow_speed-b.upper_limit_flow) &gt; #{deviationAndIndex.minFlowingDeviation}
        when b.flow_source==2
        then (b.sample_flow_speed-b.upper_limit_flow) &gt; #{deviationAndIndex.minFlowingDeviation}*/
      </if>
        /*case when b.flow_source==1
        then (b.unit_flow_speed-b.upper_limit_flow) &lt; #{deviationAndIndex.maxFlowingDeviation}
        when b.flow_source==2
        then (b.sample_flow_speed-b.upper_limit_flow) &lt; #{deviationAndIndex.maxFlowingDeviation}*/
        and flowingDeviation &lt; #{deviationAndIndex.maxFlowingDeviation}
      </if>-->
      <if test="deviationAndIndex.minTemperatureDeviation != null">
        and (b.temperature_threshold-b.set_temperature)  &gt; #{deviationAndIndex.minTemperatureDeviation}
      </if>
      <if test="deviationAndIndex.maxTemperatureDeviation != null">
        and (b.temperature_threshold-b.set_temperature)  &lt; #{deviationAndIndex.maxTemperatureDeviation}
      </if>
      <if test="deviationAndIndex.minPressureDeviation != null">
        and (b.pressure_diff_threshold-b.set_pressure_diff) &gt; #{deviationAndIndex.minPressureDeviation}
      </if>
      <if test="deviationAndIndex.maxPressureDeviation != null">
        and (b.pressureDiffThreshold-b.set_pressure_diff) &lt; #{deviationAndIndex.maxPressureDeviation}
      </if>
      <if test="deviationAndIndex.minHeatingIndex != null">
        and u.heating_index &gt; #{deviationAndIndex.minHeatingIndex}
      </if>
      <if test="deviationAndIndex.maxHeatingIndex != null">
        and u.heating_index &lt; #{deviationAndIndex.maxHeatingIndex}
      </if>
      <if test="deviationAndIndex.minFlowingIndex != null">
        and u.flowing_index &gt; #{deviationAndIndex.minFlowingIndex}
      </if>
      <if test="deviationAndIndex.maxFlowingIndex != null">
        and u.flowing_index &lt; #{deviationAndIndex.maxFlowingIndex}
      </if>
    </if>
    <!-- </if>
    </if>-->
    <if test="sortby!=null">
      order by ${sortby}
    </if>
    <if test="order!=null">
      ${order}
    </if>
    <if test="start!=null and pageSize !=null">
      limit ${start},${pageSize}
    </if>
  </select>
  
  <select id="selectDataNowListCount" parameterType="map" resultType="java.lang.Integer">
    select count(*) 
    from balance_valve_data_now b
    left join unit_running_data u on b.consumer_id = u.consumer_id
    where 1=1
    <if test="companyIds.size()>0">
     and substring(b.consumer_id,1,5) in 
      <foreach collection="companyIds" item="item" index="index" open="(" separator="," close=")">
        #{item}
      </foreach> 
    </if>
    <if test="commuityIds.size()>0">
      and substring(b.consumer_id,1,10) in
      <foreach collection="commuityIds" item="item" index="index" open="(" separator="," close=")">
        #{item}
      </foreach>
    </if>
    <if test="buildingId!=null">
      and substring(b.consumer_id,1,15) = #{buildingId}
    </if>
    <!--<if test="deviationAndIndex != null">-->
      <!--<if test="deviationAndIndex.minFlowingDeviation!=null or deviationAndIndex.maxFlowingDeviation!=null and unitFlowSpeed!=null and upperLimitFlow!=null">
        <if test="flowSource == 1 ">
          and (unitFlowSpeed-upperLimitFlow) between (deviationAndIndex.minFlowingDeviation,deviationAndIndex.maxFlowingDeviation)
        </if>
        <if test="flowSource == 2">-->
    <if test="deviationAndIndex != null">
    <!--<if test="deviationAndIndex.minFlowingDeviation!=null">
      and flowingDeviation &gt; #{deviationAndIndex.minFlowingDeviation}
    </if>
    <if test="deviationAndIndex.maxFlowingDeviation!=null">
      and flowingDeviation &lt; #{deviationAndIndex.maxFlowingDeviation}
    </if>-->
      <!--
        /*case when b.flow_source==1
        then (b.unit_flow_speed-b.upper_limit_flow) &gt; #{deviationAndIndex.minFlowingDeviation}
        when b.flow_source==2
        then (b.sample_flow_speed-b.upper_limit_flow) &gt; #{deviationAndIndex.minFlowingDeviation}*/
      </if>
        /*case when b.flow_source==1
        then (b.unit_flow_speed-b.upper_limit_flow) &lt; #{deviationAndIndex.maxFlowingDeviation}
        when b.flow_source==2
        then (b.sample_flow_speed-b.upper_limit_flow) &lt; #{deviationAndIndex.maxFlowingDeviation}*/
        and flowingDeviation &lt; #{deviationAndIndex.maxFlowingDeviation}
      </if>-->
      <if test="deviationAndIndex.minTemperatureDeviation != null">
        and (b.temperature_threshold-b.set_temperature)  &gt; #{deviationAndIndex.minTemperatureDeviation}
      </if>
      <if test="deviationAndIndex.maxTemperatureDeviation != null">
        and (b.temperature_threshold-b.set_temperature)  &lt; #{deviationAndIndex.maxTemperatureDeviation}
      </if>
      <if test="deviationAndIndex.minPressureDeviation != null">
        and (b.pressure_diff_threshold-b.set_pressure_diff) &gt; #{deviationAndIndex.minPressureDeviation}
      </if>
      <if test="deviationAndIndex.maxPressureDeviation != null">
        and (b.pressureDiffThreshold-b.set_pressure_diff) &lt; #{deviationAndIndex.maxPressureDeviation}
      </if>
      <if test="deviationAndIndex.minHeatingIndex != null">
        and u.heating_index &gt; #{deviationAndIndex.minHeatingIndex}
      </if>
      <if test="deviationAndIndex.maxHeatingIndex != null">
        and u.heating_index &lt; #{deviationAndIndex.maxHeatingIndex}
      </if>
      <if test="deviationAndIndex.minFlowingIndex != null">
        and u.flowing_index &gt; #{deviationAndIndex.minFlowingIndex}
      </if>
      <if test="deviationAndIndex.maxFlowingIndex != null">
        and u.flowing_index &lt; #{deviationAndIndex.maxFlowingIndex}
      </if>
    </if>
    <!-- </if>
    </if>-->
  </select>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    delete from balance_valve_data_now
    where meter_id = #{meterId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="cn.plou.web.balance.distribution.entity.BalanceValveDataNow">
    insert into balance_valve_data_now (meter_id, consumer_id, control_mode, 
      openness, in_pressure, out_pressure, 
      pressure_diff, set_pressure_diff, pressure_diff_threshold,
      in_temperature, out_temperature, set_temperature, 
      temperature_threshold, sample_flow_speed, 
      unit_flow_speed, upper_limit_flow, max_flow_threshold, 
      sys_read_time, company_id, notes, 
      memo1, memo2, create_date, 
      create_user, update_date, update_user, 
      env_temp, open_set, open_level, 
      base_open_max, base_open_min, low_temp, 
      com_interval, exchange_temp, exchange_press, 
      locks, time_param1, time_param2, 
      time_param3, temp_param, time_open_param1,
      time_open_param2, time_open_param3, time_temp_param1, 
      time_temp_param2, time_temp_param3, time_temp_cure_param1, 
      time_temp_cure_param2, time_temp_cure_param3, 
      press_adj_out, press_adj_in, current_times, 
      read_time, meter_time, open_set_add, 
      primary_id, flow_source, flow_setting_mode, 
      control_addr, mbus_id, address_2nd
      )
    values (#{meterId,jdbcType=VARCHAR}, #{consumerId,jdbcType=VARCHAR}, #{controlMode,jdbcType=VARCHAR}, 
      #{openness,jdbcType=DECIMAL}, #{inPressure,jdbcType=DECIMAL}, #{outPressure,jdbcType=DECIMAL}, 
      #{pressureDiff,jdbcType=DECIMAL}, #{setPressureDiff,jdbcType=DECIMAL}, #{pressureDiffThreshold,jdbcType=DECIMAL}, 
      #{inTemperature,jdbcType=DECIMAL}, #{outTemperature,jdbcType=DECIMAL}, #{setTemperature,jdbcType=DECIMAL}, 
      #{temperatureThreshold,jdbcType=DECIMAL}, #{sampleFlowSpeed,jdbcType=DECIMAL}, 
      #{unitFlowSpeed,jdbcType=DECIMAL}, #{upperLimitFlow,jdbcType=DECIMAL}, #{maxFlowThreshold,jdbcType=DECIMAL}, 
      #{sysReadTime,jdbcType=TIMESTAMP}, #{companyId,jdbcType=VARCHAR}, #{notes,jdbcType=VARCHAR}, 
      #{memo1,jdbcType=VARCHAR}, #{memo2,jdbcType=VARCHAR}, #{createDate,jdbcType=TIMESTAMP}, 
      #{createUser,jdbcType=VARCHAR}, #{updateDate,jdbcType=TIMESTAMP}, #{updateUser,jdbcType=VARCHAR}, 
      #{envTemp,jdbcType=DECIMAL}, #{openSet,jdbcType=DECIMAL}, #{openLevel,jdbcType=DECIMAL}, 
      #{baseOpenMax,jdbcType=VARCHAR}, #{baseOpenMin,jdbcType=VARCHAR}, #{lowTemp,jdbcType=DECIMAL}, 
      #{comInterval,jdbcType=DECIMAL}, #{exchangeTemp,jdbcType=VARCHAR}, #{exchangePress,jdbcType=VARCHAR}, 
      #{locks,jdbcType=VARCHAR}, #{timeParam1,jdbcType=VARCHAR}, #{timeParam2,jdbcType=VARCHAR}, 
      #{timeParam3,jdbcType=VARCHAR}, #{tempParam,jdbcType=VARCHAR}, #{timeOpenParam1,jdbcType=VARCHAR},
      #{timeOpenParam2,jdbcType=VARCHAR}, #{timeOpenParam3,jdbcType=VARCHAR}, #{timeTempParam1,jdbcType=VARCHAR}, 
      #{timeTempParam2,jdbcType=VARCHAR}, #{timeTempParam3,jdbcType=VARCHAR}, #{timeTempCureParam1,jdbcType=VARCHAR}, 
      #{timeTempCureParam2,jdbcType=VARCHAR}, #{timeTempCureParam3,jdbcType=VARCHAR}, 
      #{pressAdjOut,jdbcType=VARCHAR}, #{pressAdjIn,jdbcType=VARCHAR}, #{currentTimes,jdbcType=TIMESTAMP}, 
      #{readTime,jdbcType=TIMESTAMP}, #{meterTime,jdbcType=TIMESTAMP}, #{openSetAdd,jdbcType=DECIMAL}, 
      #{primaryId,jdbcType=VARCHAR}, #{flowSource,jdbcType=VARCHAR}, #{flowSettingMode,jdbcType=VARCHAR}, 
      #{controlAddr,jdbcType=VARCHAR}, #{mbusId,jdbcType=VARCHAR}, #{address2nd,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="cn.plou.web.balance.distribution.entity.BalanceValveDataNow">
    insert into balance_valve_data_now
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="meterId != null">
        meter_id,
      </if>
      <if test="consumerId != null">
        consumer_id,
      </if>
      <if test="controlMode != null">
        control_mode,
      </if>
      <if test="openness != null">
        openness,
      </if>
      <if test="inPressure != null">
        in_pressure,
      </if>
      <if test="outPressure != null">
        out_pressure,
      </if>
      <if test="pressureDiff != null">
        pressure_diff,
      </if>
      <if test="setPressureDiff != null">
        set_pressure_diff,
      </if>
      <if test="pressureDiffThreshold != null">
        pressure_diff_threshold,
      </if>
      <if test="inTemperature != null">
        in_temperature,
      </if>
      <if test="outTemperature != null">
        out_temperature,
      </if>
      <if test="setTemperature != null">
        set_temperature,
      </if>
      <if test="temperatureThreshold != null">
        temperature_threshold,
      </if>
      <if test="sampleFlowSpeed != null">
        sample_flow_speed,
      </if>
      <if test="unitFlowSpeed != null">
        unit_flow_speed,
      </if>
      <if test="upperLimitFlow != null">
        upper_limit_flow,
      </if>
      <if test="maxFlowThreshold != null">
        max_flow_threshold,
      </if>
      <if test="sysReadTime != null">
        sys_read_time,
      </if>
      <if test="companyId != null">
        company_id,
      </if>
      <if test="notes != null">
        notes,
      </if>
      <if test="memo1 != null">
        memo1,
      </if>
      <if test="memo2 != null">
        memo2,
      </if>
      <if test="createDate != null">
        create_date,
      </if>
      <if test="createUser != null">
        create_user,
      </if>
      <if test="updateDate != null">
        update_date,
      </if>
      <if test="updateUser != null">
        update_user,
      </if>
      <if test="envTemp != null">
        env_temp,
      </if>
      <if test="openSet != null">
        open_set,
      </if>
      <if test="openLevel != null">
        open_level,
      </if>
      <if test="baseOpenMax != null">
        base_open_max,
      </if>
      <if test="baseOpenMin != null">
        base_open_min,
      </if>
      <if test="lowTemp != null">
        low_temp,
      </if>
      <if test="comInterval != null">
        com_interval,
      </if>
      <if test="exchangeTemp != null">
        exchange_temp,
      </if>
      <if test="exchangePress != null">
        exchange_press,
      </if>
      <if test="locks != null">
        locks,
      </if>
      <if test="timeParam1 != null">
        time_param1,
      </if>
      <if test="timeParam2 != null">
        time_param2,
      </if>
      <if test="timeParam3 != null">
        time_param3,
      </if>
      <if test="tempParam != null">
        temp_param,
      </if>
      <if test="timeOpenParam1 != null">
        time_open_param1,
      </if>
      <if test="timeOpenParam2 != null">
        time_open_param2,
      </if>
      <if test="timeOpenParam3 != null">
        time_open_param3,
      </if>
      <if test="timeTempParam1 != null">
        time_temp_param1,
      </if>
      <if test="timeTempParam2 != null">
        time_temp_param2,
      </if>
      <if test="timeTempParam3 != null">
        time_temp_param3,
      </if>
      <if test="timeTempCureParam1 != null">
        time_temp_cure_param1,
      </if>
      <if test="timeTempCureParam2 != null">
        time_temp_cure_param2,
      </if>
      <if test="timeTempCureParam3 != null">
        time_temp_cure_param3,
      </if>
      <if test="pressAdjOut != null">
        press_adj_out,
      </if>
      <if test="pressAdjIn != null">
        press_adj_in,
      </if>
      <if test="currentTimes != null">
        current_times,
      </if>
      <if test="readTime != null">
        read_time,
      </if>
      <if test="meterTime != null">
        meter_time,
      </if>
      <if test="openSetAdd != null">
        open_set_add,
      </if>
      <if test="primaryId != null">
        primary_id,
      </if>
      <if test="flowSource != null">
        flow_source,
      </if>
      <if test="flowSettingMode != null">
        flow_setting_mode,
      </if>
      <if test="controlAddr != null">
        control_addr,
      </if>
      <if test="mbusId != null">
        mbus_id,
      </if>
      <if test="address2nd != null">
        address_2nd,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="meterId != null">
        #{meterId,jdbcType=VARCHAR},
      </if>
      <if test="consumerId != null">
        #{consumerId,jdbcType=VARCHAR},
      </if>
      <if test="controlMode != null">
        #{controlMode,jdbcType=VARCHAR},
      </if>
      <if test="openness != null">
        #{openness,jdbcType=DECIMAL},
      </if>
      <if test="inPressure != null">
        #{inPressure,jdbcType=DECIMAL},
      </if>
      <if test="outPressure != null">
        #{outPressure,jdbcType=DECIMAL},
      </if>
      <if test="pressureDiff != null">
        #{pressureDiff,jdbcType=DECIMAL},
      </if>
      <if test="setPressureDiff != null">
        #{setPressureDiff,jdbcType=DECIMAL},
      </if>
      <if test="pressureDiffThreshold != null">
        #{pressureDiffThreshold,jdbcType=DECIMAL},
      </if>
      <if test="inTemperature != null">
        #{inTemperature,jdbcType=DECIMAL},
      </if>
      <if test="outTemperature != null">
        #{outTemperature,jdbcType=DECIMAL},
      </if>
      <if test="setTemperature != null">
        #{setTemperature,jdbcType=DECIMAL},
      </if>
      <if test="temperatureThreshold != null">
        #{temperatureThreshold,jdbcType=DECIMAL},
      </if>
      <if test="sampleFlowSpeed != null">
        #{sampleFlowSpeed,jdbcType=DECIMAL},
      </if>
      <if test="unitFlowSpeed != null">
        #{unitFlowSpeed,jdbcType=DECIMAL},
      </if>
      <if test="upperLimitFlow != null">
        #{upperLimitFlow,jdbcType=DECIMAL},
      </if>
      <if test="maxFlowThreshold != null">
        #{maxFlowThreshold,jdbcType=DECIMAL},
      </if>
      <if test="sysReadTime != null">
        #{sysReadTime,jdbcType=TIMESTAMP},
      </if>
      <if test="companyId != null">
        #{companyId,jdbcType=VARCHAR},
      </if>
      <if test="notes != null">
        #{notes,jdbcType=VARCHAR},
      </if>
      <if test="memo1 != null">
        #{memo1,jdbcType=VARCHAR},
      </if>
      <if test="memo2 != null">
        #{memo2,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null">
        #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="createUser != null">
        #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="updateDate != null">
        #{updateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUser != null">
        #{updateUser,jdbcType=VARCHAR},
      </if>
      <if test="envTemp != null">
        #{envTemp,jdbcType=DECIMAL},
      </if>
      <if test="openSet != null">
        #{openSet,jdbcType=DECIMAL},
      </if>
      <if test="openLevel != null">
        #{openLevel,jdbcType=DECIMAL},
      </if>
      <if test="baseOpenMax != null">
        #{baseOpenMax,jdbcType=VARCHAR},
      </if>
      <if test="baseOpenMin != null">
        #{baseOpenMin,jdbcType=VARCHAR},
      </if>
      <if test="lowTemp != null">
        #{lowTemp,jdbcType=DECIMAL},
      </if>
      <if test="comInterval != null">
        #{comInterval,jdbcType=DECIMAL},
      </if>
      <if test="exchangeTemp != null">
        #{exchangeTemp,jdbcType=VARCHAR},
      </if>
      <if test="exchangePress != null">
        #{exchangePress,jdbcType=VARCHAR},
      </if>
      <if test="locks != null">
        #{locks,jdbcType=VARCHAR},
      </if>
      <if test="timeParam1 != null">
        #{timeParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeParam2 != null">
        #{timeParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeParam3 != null">
        #{timeParam3,jdbcType=VARCHAR},
      </if>
      <if test="tempParam != null">
        #{tempParam,jdbcType=VARCHAR},
      </if>
      <if test="timeOpenParam1 != null">
        #{timeOpenParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeOpenParam2 != null">
        #{timeOpenParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeOpenParam3 != null">
        #{timeOpenParam3,jdbcType=VARCHAR},
      </if>
      <if test="timeTempParam1 != null">
        #{timeTempParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeTempParam2 != null">
        #{timeTempParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeTempParam3 != null">
        #{timeTempParam3,jdbcType=VARCHAR},
      </if>
      <if test="timeTempCureParam1 != null">
        #{timeTempCureParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeTempCureParam2 != null">
        #{timeTempCureParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeTempCureParam3 != null">
        #{timeTempCureParam3,jdbcType=VARCHAR},
      </if>
      <if test="pressAdjOut != null">
        #{pressAdjOut,jdbcType=VARCHAR},
      </if>
      <if test="pressAdjIn != null">
        #{pressAdjIn,jdbcType=VARCHAR},
      </if>
      <if test="currentTimes != null">
        #{currentTimes,jdbcType=TIMESTAMP},
      </if>
      <if test="readTime != null">
        #{readTime,jdbcType=TIMESTAMP},
      </if>
      <if test="meterTime != null">
        #{meterTime,jdbcType=TIMESTAMP},
      </if>
      <if test="openSetAdd != null">
        #{openSetAdd,jdbcType=DECIMAL},
      </if>
      <if test="primaryId != null">
        #{primaryId,jdbcType=VARCHAR},
      </if>
      <if test="flowSource != null">
        #{flowSource,jdbcType=VARCHAR},
      </if>
      <if test="flowSettingMode != null">
        #{flowSettingMode,jdbcType=VARCHAR},
      </if>
      <if test="controlAddr != null">
        #{controlAddr,jdbcType=VARCHAR},
      </if>
      <if test="mbusId != null">
        #{mbusId,jdbcType=VARCHAR},
      </if>
      <if test="address2nd != null">
        #{address2nd,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="cn.plou.web.balance.distribution.entity.BalanceValveDataNow">
    update balance_valve_data_now
    <set>
      <if test="consumerId != null">
        consumer_id = #{consumerId,jdbcType=VARCHAR},
      </if>
      <if test="controlMode != null">
        control_mode = #{controlMode,jdbcType=VARCHAR},
      </if>
      <if test="openness != null">
        openness = #{openness,jdbcType=DECIMAL},
      </if>
      <if test="inPressure != null">
        in_pressure = #{inPressure,jdbcType=DECIMAL},
      </if>
      <if test="outPressure != null">
        out_pressure = #{outPressure,jdbcType=DECIMAL},
      </if>
      <if test="pressureDiff != null">
        pressure_diff = #{pressureDiff,jdbcType=DECIMAL},
      </if>
      <if test="setPressureDiff != null">
        set_pressure_diff = #{setPressureDiff,jdbcType=DECIMAL},
      </if>
      <if test="pressureDiffThreshold != null">
        pressure_diff_threshold = #{pressureDiffThreshold,jdbcType=DECIMAL},
      </if>
      <if test="inTemperature != null">
        in_temperature = #{inTemperature,jdbcType=DECIMAL},
      </if>
      <if test="outTemperature != null">
        out_temperature = #{outTemperature,jdbcType=DECIMAL},
      </if>
      <if test="setTemperature != null">
        set_temperature = #{setTemperature,jdbcType=DECIMAL},
      </if>
      <if test="temperatureThreshold != null">
        temperature_threshold = #{temperatureThreshold,jdbcType=DECIMAL},
      </if>
      <if test="sampleFlowSpeed != null">
        sample_flow_speed = #{sampleFlowSpeed,jdbcType=DECIMAL},
      </if>
      <if test="unitFlowSpeed != null">
        unit_flow_speed = #{unitFlowSpeed,jdbcType=DECIMAL},
      </if>
      <if test="upperLimitFlow != null">
        upper_limit_flow = #{upperLimitFlow,jdbcType=DECIMAL},
      </if>
      <if test="maxFlowThreshold != null">
        max_flow_threshold = #{maxFlowThreshold,jdbcType=DECIMAL},
      </if>
      <if test="sysReadTime != null">
        sys_read_time = #{sysReadTime,jdbcType=TIMESTAMP},
      </if>
      <if test="companyId != null">
        company_id = #{companyId,jdbcType=VARCHAR},
      </if>
      <if test="notes != null">
        notes = #{notes,jdbcType=VARCHAR},
      </if>
      <if test="memo1 != null">
        memo1 = #{memo1,jdbcType=VARCHAR},
      </if>
      <if test="memo2 != null">
        memo2 = #{memo2,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null">
        create_date = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="createUser != null">
        create_user = #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="updateDate != null">
        update_date = #{updateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUser != null">
        update_user = #{updateUser,jdbcType=VARCHAR},
      </if>
      <if test="envTemp != null">
        env_temp = #{envTemp,jdbcType=DECIMAL},
      </if>
      <if test="openSet != null">
        open_set = #{openSet,jdbcType=DECIMAL},
      </if>
      <if test="openLevel != null">
        open_level = #{openLevel,jdbcType=DECIMAL},
      </if>
      <if test="baseOpenMax != null">
        base_open_max = #{baseOpenMax,jdbcType=VARCHAR},
      </if>
      <if test="baseOpenMin != null">
        base_open_min = #{baseOpenMin,jdbcType=VARCHAR},
      </if>
      <if test="lowTemp != null">
        low_temp = #{lowTemp,jdbcType=DECIMAL},
      </if>
      <if test="comInterval != null">
        com_interval = #{comInterval,jdbcType=DECIMAL},
      </if>
      <if test="exchangeTemp != null">
        exchange_temp = #{exchangeTemp,jdbcType=VARCHAR},
      </if>
      <if test="exchangePress != null">
        exchange_press = #{exchangePress,jdbcType=VARCHAR},
      </if>
      <if test="locks != null">
        locks = #{locks,jdbcType=VARCHAR},
      </if>
      <if test="timeParam1 != null">
        time_param1 = #{timeParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeParam2 != null">
        time_param2 = #{timeParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeParam4 != null">
        time_param4 = #{timeParam4,jdbcType=VARCHAR},
      </if>
      <if test="tempParam != null">
        temp_param = #{tempParam,jdbcType=VARCHAR},
      </if>
      <if test="timeOpenParam1 != null">
        time_open_param1 = #{timeOpenParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeOpenParam2 != null">
        time_open_param2 = #{timeOpenParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeOpenParam3 != null">
        time_open_param3 = #{timeOpenParam3,jdbcType=VARCHAR},
      </if>
      <if test="timeTempParam1 != null">
        time_temp_param1 = #{timeTempParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeTempParam2 != null">
        time_temp_param2 = #{timeTempParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeTempParam3 != null">
        time_temp_param3 = #{timeTempParam3,jdbcType=VARCHAR},
      </if>
      <if test="timeTempCureParam1 != null">
        time_temp_cure_param1 = #{timeTempCureParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeTempCureParam2 != null">
        time_temp_cure_param2 = #{timeTempCureParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeTempCureParam3 != null">
        time_temp_cure_param3 = #{timeTempCureParam3,jdbcType=VARCHAR},
      </if>
      <if test="pressAdjOut != null">
        press_adj_out = #{pressAdjOut,jdbcType=VARCHAR},
      </if>
      <if test="pressAdjIn != null">
        press_adj_in = #{pressAdjIn,jdbcType=VARCHAR},
      </if>
      <if test="currentTimes != null">
        current_times = #{currentTimes,jdbcType=TIMESTAMP},
      </if>
      <if test="readTime != null">
        read_time = #{readTime,jdbcType=TIMESTAMP},
      </if>
      <if test="meterTime != null">
        meter_time = #{meterTime,jdbcType=TIMESTAMP},
      </if>
      <if test="openSetAdd != null">
        open_set_add = #{openSetAdd,jdbcType=DECIMAL},
      </if>
      <if test="primaryId != null">
        primary_id = #{primaryId,jdbcType=VARCHAR},
      </if>
      <if test="flowSource != null">
        flow_source = #{flowSource,jdbcType=VARCHAR},
      </if>
      <if test="flowSettingMode != null">
        flow_setting_mode = #{flowSettingMode,jdbcType=VARCHAR},
      </if>
      <if test="controlAddr != null">
        control_addr = #{controlAddr,jdbcType=VARCHAR},
      </if>
      <if test="mbusId != null">
        mbus_id = #{mbusId,jdbcType=VARCHAR},
      </if>
      <if test="address2nd != null">
        address_2nd = #{address2nd,jdbcType=VARCHAR},
      </if>
    </set>
    where meter_id = #{meterId,jdbcType=VARCHAR}
  </update>

  <update id="updateByPrimaryKeySelectiveBatch" parameterType="cn.plou.web.balance.regulate.vo.BalanceValveDataNowBatch">
    update balance_valve_data_now
    <set>
      <if test="consumerId != null">
        consumer_id = #{consumerId,jdbcType=VARCHAR},
      </if>
      <if test="controlMode != null">
        control_mode = #{controlMode,jdbcType=VARCHAR},
      </if>
      <if test="openness != null">
        openness = #{openness,jdbcType=DECIMAL},
      </if>
      <if test="inPressure != null">
        in_pressure = #{inPressure,jdbcType=DECIMAL},
      </if>
      <if test="outPressure != null">
        out_pressure = #{outPressure,jdbcType=DECIMAL},
      </if>
      <if test="pressureDiff != null">
        pressure_diff = #{pressureDiff,jdbcType=DECIMAL},
      </if>
      <if test="setPressureDiff != null">
        set_pressure_diff = #{setPressureDiff,jdbcType=DECIMAL},
      </if>
      <if test="pressureDiffThreshold != null">
        pressure_dif_threshold = #{pressureDiffThreshold,jdbcType=DECIMAL},
      </if>
      <if test="inTemperature != null">
        in_temperature = #{inTemperature,jdbcType=DECIMAL},
      </if>
      <if test="outTemperature != null">
        out_temperature = #{outTemperature,jdbcType=DECIMAL},
      </if>
      <if test="setTemperature != null">
        set_temperature = #{setTemperature,jdbcType=DECIMAL},
      </if>
      <if test="temperatureThreshold != null">
        temperature_threshold = #{temperatureThreshold,jdbcType=DECIMAL},
      </if>
      <if test="sampleFlowSpeed != null">
        sample_flow_speed = #{sampleFlowSpeed,jdbcType=DECIMAL},
      </if>
      <if test="unitFlowSpeed != null">
        unit_flow_speed = #{unitFlowSpeed,jdbcType=DECIMAL},
      </if>
      <if test="upperLimitFlow != null">
        upper_limit_flow = #{upperLimitFlow,jdbcType=DECIMAL},
      </if>
      <if test="maxFlowThreshold != null">
        max_flow_threshold = #{maxFlowThreshold,jdbcType=DECIMAL},
      </if>
      <if test="sysReadTime != null">
        sys_read_time = #{sysReadTime,jdbcType=TIMESTAMP},
      </if>
      <if test="companyId != null">
        company_id = #{companyId,jdbcType=VARCHAR},
      </if>
      <if test="notes != null">
        notes = #{notes,jdbcType=VARCHAR},
      </if>
      <if test="memo1 != null">
        memo1 = #{memo1,jdbcType=VARCHAR},
      </if>
      <if test="memo2 != null">
        memo2 = #{memo2,jdbcType=VARCHAR},
      </if>
      <if test="createDate != null">
        create_date = #{createDate,jdbcType=TIMESTAMP},
      </if>
      <if test="createUser != null">
        create_user = #{createUser,jdbcType=VARCHAR},
      </if>
      <if test="updateDate != null">
        update_date = #{updateDate,jdbcType=TIMESTAMP},
      </if>
      <if test="updateUser != null">
        update_user = #{updateUser,jdbcType=VARCHAR},
      </if>
      <if test="envTemp != null">
        env_temp = #{envTemp,jdbcType=DECIMAL},
      </if>
      <if test="openSet != null">
        open_set = #{openSet,jdbcType=DECIMAL},
      </if>
      <if test="openLevel != null">
        open_level = #{openLevel,jdbcType=DECIMAL},
      </if>
      <if test="baseOpenMax != null">
        base_open_max = #{baseOpenMax,jdbcType=VARCHAR},
      </if>
      <if test="baseOpenMin != null">
        base_open_min = #{baseOpenMin,jdbcType=VARCHAR},
      </if>
      <if test="lowTemp != null">
        low_temp = #{lowTemp,jdbcType=DECIMAL},
      </if>
      <if test="comInterval != null">
        com_interval = #{comInterval,jdbcType=DECIMAL},
      </if>
      <if test="exchangeTemp != null">
        exchange_temp = #{exchangeTemp,jdbcType=VARCHAR},
      </if>
      <if test="exchangePress != null">
        exchange_press = #{exchangePress,jdbcType=VARCHAR},
      </if>
      <if test="locks != null">
        locks = #{locks,jdbcType=VARCHAR},
      </if>
      <if test="timeParam1 != null">
        time_param1 = #{timeParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeParam2 != null">
        time_param2 = #{timeParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeParam3 != null">
        time_param3 = #{timeParam3,jdbcType=VARCHAR},
      </if>
      <if test="tempParam != null">
        temp_param = #{tempParam,jdbcType=VARCHAR},
      </if>
      <if test="timeOpenParam1 != null">
        time_open_param1 = #{timeOpenParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeOpenParam2 != null">
        time_open_param2 = #{timeOpenParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeOpenParam3 != null">
        time_open_param3 = #{timeOpenParam3,jdbcType=VARCHAR},
      </if>
      <if test="timeTempParam1 != null">
        time_temp_param1 = #{timeTempParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeTempParam2 != null">
        time_temp_param2 = #{timeTempParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeTempParam3 != null">
        time_temp_param3 = #{timeTempParam3,jdbcType=VARCHAR},
      </if>
      <if test="timeTempCureParam1 != null">
        time_temp_cure_param1 = #{timeTempCureParam1,jdbcType=VARCHAR},
      </if>
      <if test="timeTempCureParam2 != null">
        time_temp_cure_param2 = #{timeTempCureParam2,jdbcType=VARCHAR},
      </if>
      <if test="timeTempCureParam3 != null">
        time_temp_cure_param3 = #{timeTempCureParam3,jdbcType=VARCHAR},
      </if>
      <if test="pressAdjOut != null">
        press_adj_out = #{pressAdjOut,jdbcType=VARCHAR},
      </if>
      <if test="pressAdjIn != null">
        press_adj_in = #{pressAdjIn,jdbcType=VARCHAR},
      </if>
      <if test="currentTimes != null">
        current_times = #{currentTimes,jdbcType=TIMESTAMP},
      </if>
      <if test="readTime != null">
        read_time = #{readTime,jdbcType=TIMESTAMP},
      </if>
      <if test="meterTime != null">
        meter_time = #{meterTime,jdbcType=TIMESTAMP},
      </if>
      <if test="openSetAdd != null">
        open_set_add = #{openSetAdd,jdbcType=DECIMAL},
      </if>
      <if test="primaryId != null">
        primary_id = #{primaryId,jdbcType=VARCHAR},
      </if>
      <if test="flowSource != null">
        flow_source = #{flowSource,jdbcType=VARCHAR},
      </if>
      <if test="flowSettingMode != null">
        flow_setting_mode = #{flowSettingMode,jdbcType=VARCHAR},
      </if>
      <if test="controlAddr != null">
        control_addr = #{controlAddr,jdbcType=VARCHAR},
      </if>
      <if test="mbusId != null">
        mbus_id = #{mbusId,jdbcType=VARCHAR},
      </if>
      <if test="address2nd != null">
        address_2nd = #{address2nd,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="batchCheckbox != null">
      where consumer_id like concat (#{batchModifyId},'%s')
    </if>
    <if test="batchCheckbox == null">
      where meter_id in
      <foreach collection="meterIds" index="index" item="item" open="(" separator="," close=")">
        #{item}
      </foreach>
    </if>
  </update>

  <update id="updateByPrimaryKey" parameterType="cn.plou.web.balance.distribution.entity.BalanceValveDataNow">
    update balance_valve_data_now
    set consumer_id = #{consumerId,jdbcType=VARCHAR},
      control_mode = #{controlMode,jdbcType=VARCHAR},
      openness = #{openness,jdbcType=DECIMAL},
      in_pressure = #{inPressure,jdbcType=DECIMAL},
      out_pressure = #{outPressure,jdbcType=DECIMAL},
      pressure_diff = #{pressureDiff,jdbcType=DECIMAL},
      set_pressure_diff = #{setPressureDiff,jdbcType=DECIMAL},
      pressure_diff_threshold = #{pressureDiffThreshold,jdbcType=DECIMAL},
      in_temperature = #{inTemperature,jdbcType=DECIMAL},
      out_temperature = #{outTemperature,jdbcType=DECIMAL},
      set_temperature = #{setTemperature,jdbcType=DECIMAL},
      temperature_threshold = #{temperatureThreshold,jdbcType=DECIMAL},
      sample_flow_speed = #{sampleFlowSpeed,jdbcType=DECIMAL},
      unit_flow_speed = #{unitFlowSpeed,jdbcType=DECIMAL},
      upper_limit_flow = #{upperLimitFlow,jdbcType=DECIMAL},
      max_flow_threshold = #{maxFlowThreshold,jdbcType=DECIMAL},
      sys_read_time = #{sysReadTime,jdbcType=TIMESTAMP},
      company_id = #{companyId,jdbcType=VARCHAR},
      notes = #{notes,jdbcType=VARCHAR},
      memo1 = #{memo1,jdbcType=VARCHAR},
      memo2 = #{memo2,jdbcType=VARCHAR},
      create_date = #{createDate,jdbcType=TIMESTAMP},
      create_user = #{createUser,jdbcType=VARCHAR},
      update_date = #{updateDate,jdbcType=TIMESTAMP},
      update_user = #{updateUser,jdbcType=VARCHAR},
      env_temp = #{envTemp,jdbcType=DECIMAL},
      open_set = #{openSet,jdbcType=DECIMAL},
      open_level = #{openLevel,jdbcType=DECIMAL},
      base_open_max = #{baseOpenMax,jdbcType=VARCHAR},
      base_open_min = #{baseOpenMin,jdbcType=VARCHAR},
      low_temp = #{lowTemp,jdbcType=DECIMAL},
      com_interval = #{comInterval,jdbcType=DECIMAL},
      exchange_temp = #{exchangeTemp,jdbcType=VARCHAR},
      exchange_press = #{exchangePress,jdbcType=VARCHAR},
      locks = #{locks,jdbcType=VARCHAR},
      time_param1 = #{timeParam1,jdbcType=VARCHAR},
      time_param2 = #{timeParam2,jdbcType=VARCHAR},
      time_param3 = #{timeParam3,jdbcType=VARCHAR},
      temp_param = #{tempParam,jdbcType=VARCHAR},
      time_open_param1 = #{timeOpenParam1,jdbcType=VARCHAR},
      time_open_param2 = #{timeOpenParam2,jdbcType=VARCHAR},
      time_open_param3 = #{timeOpenParam3,jdbcType=VARCHAR},
      time_temp_param1 = #{timeTempParam1,jdbcType=VARCHAR},
      time_temp_param2 = #{timeTempParam2,jdbcType=VARCHAR},
      time_temp_param3 = #{timeTempParam3,jdbcType=VARCHAR},
      time_temp_cure_param1 = #{timeTempCureParam1,jdbcType=VARCHAR},
      time_temp_cure_param2 = #{timeTempCureParam2,jdbcType=VARCHAR},
      time_temp_cure_param3 = #{timeTempCureParam3,jdbcType=VARCHAR},
      press_adj_out = #{pressAdjOut,jdbcType=VARCHAR},
      press_adj_in = #{pressAdjIn,jdbcType=VARCHAR},
      current_times = #{currentTimes,jdbcType=TIMESTAMP},
      read_time = #{readTime,jdbcType=TIMESTAMP},
      meter_time = #{meterTime,jdbcType=TIMESTAMP},
      open_set_add = #{openSetAdd,jdbcType=DECIMAL},
      primary_id = #{primaryId,jdbcType=VARCHAR},
      flow_source = #{flowSource,jdbcType=VARCHAR},
      flow_setting_mode = #{flowSettingMode,jdbcType=VARCHAR},
      control_addr = #{controlAddr,jdbcType=VARCHAR},
      mbus_id = #{mbusId,jdbcType=VARCHAR},
      address_2nd = #{address2nd,jdbcType=VARCHAR}
    where meter_id = #{meterId,jdbcType=VARCHAR}
  </update>
</mapper>